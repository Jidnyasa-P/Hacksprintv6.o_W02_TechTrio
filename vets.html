<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Certified Vets | PawPalace</title>
    <link rel="icon" href="images/logo.png" />
    <link rel="stylesheet" href="css/style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Poppins", sans-serif;
        cursor: url("images/cursor.cur"), auto;
      }
    </style>
  </head>
  <body class="bg-blue-50 text-gray-800">
    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-50">
      <div
        class="container mx-auto px-4 py-4 flex justify-between items-center"
      >
              <h1 class="text-2xl font-bold text-blue-600">PawPalace</h1>
      <div class="flex items-center space-x-2">
        <img src="images/logo.png" alt="Logo" class="w-20 h-20 rounded-full" />
        <h1 class="text-2xl font-bold text-blue-600">PawPalace</h1>
      </div>
        <nav class="space-x-6">
          <a href="index.html" class="hover:text-blue-600">Home</a>
          <a href="services.html" class="hover:text-blue-600">Services</a>
          <a href="vets.html" class="hover:text-blue-600">Vets</a>
          <a href="shop.html" class="hover:text-blue-600">Shop</a>
          <a href="cart.html" class="hover:text-blue-600 relative">
            🛒 Cart
            <span id="cart-count" class="bg-red-500 text-white text-xs px-2 py-0.5 rounded-full absolute -top-2 -right-3">0</span>
          </a>
          
          
          <a href="booking.html" class="hover:text-blue-600">Book Now</a>
          <a href="dashboard.html" class="hover:text-blue-600">Dashboard</a>
          <a href="login.html" class="hover:text-blue-600">Login</a>
          <a href="Offers.html" class="hover:text-blue-600">Offers</a>
        </nav>
      </div>
    </header>

    <!-- Main Content -->
    <section class="py-16 px-6">
      <h2 class="text-3xl font-bold text-blue-700 text-center mb-10">
        Certified Vets Near You
      </h2>
      <div id="filterButtons" class="flex flex-wrap justify-center gap-3 mb-8">
        <!-- Filter buttons injected by JS -->
      </div>
      <div class="flex justify-center mb-6">
        <select id="sortSelect" class="border px-4 py-2 rounded">
          <option value="">Sort By</option>
          <option value="rating-high">Rating (High to Low)</option>
          <option value="rating-low">Rating (Low to High)</option>
          <option value="price-low">Price (Low to High)</option>
          <option value="price-high">Price (High to Low)</option>
        </select>
      </div>

      <div
        id="vetGrid"
        class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto"
      >
        <!-- JS will inject cards here -->
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-white text-center py-6 mt-16 shadow-inner">
      <p class="text-gray-500 text-sm">
        &copy; 2025 PawPalace. All rights reserved.
      </p>
    </footer>

    <!-- Chatbox -->
    <div id="vetChatBox" class="fixed bottom-20 right-6 hidden bg-white shadow-xl p-4 rounded-lg w-72 z-50">
        <div class="chatbot-header font-bold text-black bg-white p-2 rounded text-center mb-2 border border-gray-300">
          Chat
        </div>
        <div id="chatMessages" class="chatbot-messages max-h-40 overflow-y-auto mb-3 text-sm border p-2 rounded h-40 bg-gray-50"></div>
        <div class="chatbot-input flex gap-2">
          <input type="text" id="chatInput" class="w-full border p-2 rounded text-sm" placeholder="Type your message..." />
          <button id="sendBtn" class="bg-blue-600 text-white px-3 rounded text-sm">Send</button>
          <button onclick="closeChat()" class="bg-red-500 text-white px-3 rounded text-sm">✖</button>
        </div>
      </div>
      

    <!-- Script to Populate Cards -->
    <script>
      const vets = {
        Veterinary: {
          "General Health Check-up": [
            {
              name: "Dr. Kendall Drew",
              image: "https://randomuser.me/api/portraits/men/3.jpg",
              rating: 4.6,
              contact: "+1-572-188-9690",
              payment: "$43",
            },
            {
              name: "Dr. Ava Smith",
              image: "https://randomuser.me/api/portraits/women/11.jpg",
              rating: 4.8,
              contact: "+1-453-889-4567",
              payment: "$55",
            },
            {
              name: "Dr. Liam Foster",
              image: "https://randomuser.me/api/portraits/men/10.jpg",
              rating: 4.7,
              contact: "+1-501-678-1234",
              payment: "$50",
            },
            {
              name: "Dr. Alia Ray",
              image: "https://randomuser.me/api/portraits/women/20.jpg",
              rating: 4.5,
              contact: "+1-610-982-1122",
              payment: "$60",
            },
            {
              name: "Dr. Jason Black",
              image: "https://randomuser.me/api/portraits/men/13.jpg",
              rating: 4.4,
              contact: "+1-302-567-6789",
              payment: "$45",
            },
            {
              name: "Dr. Priya Nair",
              image: "https://randomuser.me/api/portraits/women/14.jpg",
              rating: 4.9,
              contact: "+1-798-321-4123",
              payment: "$48",
            },
          ],
          "Emergency Care": [
            {
              name: "Dr. Noah King",
              image: "https://randomuser.me/api/portraits/men/6.jpg",
              rating: 4.6,
              contact: "+1-624-999-9087",
              payment: "$70",
            },
            {
              name: "Dr. Emily Rose",
              image: "https://randomuser.me/api/portraits/women/22.jpg",
              rating: 4.7,
              contact: "+1-610-222-1456",
              payment: "$85",
            },
            {
              name: "Dr. Blake Hill",
              image: "https://randomuser.me/api/portraits/men/12.jpg",
              rating: 4.4,
              contact: "+1-590-786-9876",
              payment: "$75",
            },
            {
              name: "Dr. Zoe Khan",
              image: "https://randomuser.me/api/portraits/women/15.jpg",
              rating: 4.5,
              contact: "+1-645-221-1234",
              payment: "$90",
            },
            {
              name: "Dr. Rishi Mehra",
              image: "https://randomuser.me/api/portraits/men/15.jpg",
              rating: 4.2,
              contact: "+1-445-888-4455",
              payment: "$78",
            },
            {
              name: "Dr. Sara White",
              image: "https://randomuser.me/api/portraits/women/10.jpg",
              rating: 4.6,
              contact: "+1-777-223-6677",
              payment: "$82",
            },
          ],
          "Dental Care": [
            {
              name: "Dr. Skyler Lane",
              image: "https://randomuser.me/api/portraits/men/1.jpg",
              rating: 4.1,
              contact: "+1-202-557-8744",
              payment: "$60",
            },
            {
              name: "Dr. Ella Brooks",
              image: "https://randomuser.me/api/portraits/women/12.jpg",
              rating: 4.3,
              contact: "+1-422-645-9123",
              payment: "$68",
            },
            {
              name: "Dr. Leo Harris",
              image: "https://randomuser.me/api/portraits/men/9.jpg",
              rating: 4.0,
              contact: "+1-203-335-8888",
              payment: "$65",
            },
            {
              name: "Dr. Mia Clark",
              image: "https://randomuser.me/api/portraits/women/25.jpg",
              rating: 4.6,
              contact: "+1-412-987-1122",
              payment: "$72",
            },
            {
              name: "Dr. Ryan Lee",
              image: "https://randomuser.me/api/portraits/men/8.jpg",
              rating: 4.5,
              contact: "+1-333-212-4567",
              payment: "$74",
            },
            {
              name: "Dr. Nisha Kapoor",
              image: "https://randomuser.me/api/portraits/women/16.jpg",
              rating: 4.7,
              contact: "+1-888-111-9999",
              payment: "$80",
            },
          ],
          "Senior Pet Care": [
            {
              name: "Dr. Riley Stone",
              image: "https://randomuser.me/api/portraits/women/6.jpg",
              rating: 4.9,
              contact: "+1-517-789-2408",
              payment: "$64",
            },
            {
              name: "Dr. Cameron Hale",
              image: "https://randomuser.me/api/portraits/women/19.jpg",
              rating: 3.8,
              contact: "+1-809-840-3983",
              payment: "$70",
            },
            {
              name: "Dr. Reese Maddox",
              image: "https://randomuser.me/api/portraits/women/8.jpg",
              rating: 4.6,
              contact: "+1-625-263-1132",
              payment: "$94",
            },
            {
              name: "Dr. Emerson Tate",
              image: "https://randomuser.me/api/portraits/men/7.jpg",
              rating: 3.6,
              contact: "+1-652-247-7539",
              payment: "$27",
            },
            {
              name: "Dr. Kavya Shah",
              image: "https://randomuser.me/api/portraits/women/17.jpg",
              rating: 4.3,
              contact: "+1-931-555-2222",
              payment: "$58",
            },
            {
              name: "Dr. Oliver Brooks",
              image: "https://randomuser.me/api/portraits/men/14.jpg",
              rating: 4.8,
              contact: "+1-344-556-7788",
              payment: "$66",
            },
          ],
        },
      };

      const vetGrid = document.getElementById("vetGrid");
      const filterContainer = document.getElementById("filterButtons");
      const sortSelect = document.getElementById("sortSelect");
      const categories = Object.keys(vets.Veterinary);

      const allBtn = document.createElement("button");
      allBtn.textContent = "All";
      allBtn.className =
        "bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600";
      allBtn.onclick = () => renderAll();
      filterContainer.appendChild(allBtn);

      categories.forEach((category) => {
        const btn = document.createElement("button");
        btn.textContent = category;
        btn.className = "bg-gray-200 px-4 py-2 rounded hover:bg-blue-100";
        btn.onclick = () => renderByCategory(category);
        filterContainer.appendChild(btn);
      });

      function extractPrice(payment) {
        return parseFloat(payment.replace(/[^0-9.]/g, ""));
      }

      function renderAll() {
        vetGrid.innerHTML = "";
        categories.forEach((c) => renderCategory(c));
      }

      function renderByCategory(category) {
        vetGrid.innerHTML = "";
        renderCategory(category);
      }

      function renderCategory(category) {
        let vetList = [...vets.Veterinary[category]];

        const sort = sortSelect.value;
        if (sort === "rating-high") vetList.sort((a, b) => b.rating - a.rating);
        else if (sort === "rating-low")
          vetList.sort((a, b) => a.rating - b.rating);
        else if (sort === "price-low")
          vetList.sort(
            (a, b) => extractPrice(a.payment) - extractPrice(b.payment)
          );
        else if (sort === "price-high")
          vetList.sort(
            (a, b) => extractPrice(b.payment) - extractPrice(a.payment)
          );

        vetList.forEach((vet) => {
          const card = document.createElement("div");
          card.className =
            "bg-white shadow-md rounded-lg overflow-hidden p-4 text-center";

          card.innerHTML = `
              <img src="${vet.image}" alt="${vet.name}"
                class="h-28 w-28 rounded-full mx-auto object-cover border-4 border-blue-200 mb-3" />
              <h3 class="text-lg font-bold text-blue-700">${vet.name}</h3>
              <p class="text-gray-600">⭐ ${vet.rating} / 5</p>
              <p class="text-gray-700 mt-1">${vet.payment}</p>
              <p class="text-sm text-gray-500">${vet.contact}</p>
              <div class="flex justify-center gap-2 mt-4 flex-wrap">
                <button onclick="openChat('${vet.name}')" class="bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600">💬 Chat</button>
                <a href="tel:${vet.contact}" class="bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600">📞 Call</a>
                <a href="booking.html" class="bg-purple-500 text-white px-3 py-1 rounded hover:bg-purple-600">📅 Book Now</a>
              </div>
            `;
          vetGrid.appendChild(card);
        });
      }

      function openChat(vetName) {
        const chatBox = document.getElementById("vetChatBox");
        chatBox.classList.remove("hidden");
    
        const chatHeader = chatBox.querySelector(".chatbot-header");
        chatHeader.textContent = `Chat with ${vetName}`;
    
        const chatMessages = document.getElementById("chatMessages");
        const sendBtn = document.getElementById("sendBtn");
        const input = document.getElementById("chatInput");
    
        sendBtn.onclick = () => {
          const message = input.value.trim();
          if (message !== "") {
            const userMsg = document.createElement("div");
            userMsg.className = "text-right text-blue-600 mb-1";
            userMsg.textContent = `You: ${message}`;
            chatMessages.appendChild(userMsg);
    
            const response = document.createElement("div");
            response.className = "text-left text-gray-700 mb-2";
            response.textContent = `${vetName}: Got your message! We'll connect soon. 🐶`;
            chatMessages.appendChild(response);
    
            input.value = "";
            chatMessages.scrollTop = chatMessages.scrollHeight;
          }
        };
      }
    
      function closeChat() {
        const chatBox = document.getElementById("vetChatBox");
        chatBox.classList.add("hidden");
        document.getElementById("chatMessages").innerHTML = ""; // Clear chat
      }
      sortSelect.addEventListener("change", () => {
        const active = document.querySelector(
          "#filterButtons button.bg-blue-600"
        );
        if (active && active.textContent !== "All")
          renderByCategory(active.textContent);
        else renderAll();
      });

      renderAll();
    </script>
  </body>
</html>
